<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="697px" preserveAspectRatio="none" style="width:552px;height:697px;" version="1.1" viewBox="0 0 552 697" width="552px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jjvid3ojj5fo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1jjvid3ojj5fo)" height="231.29" style="stroke: #000000; stroke-width: 2.0;" width="528" x="13" y="103.0986"/><rect fill="#FFFFFF" filter="url(#f1jjvid3ojj5fo)" height="205.5898" style="stroke: #000000; stroke-width: 2.0;" width="528" x="13" y="387.3374"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61" x2="61" y1="86.0986" y2="235.8423"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="61" x2="61" y1="235.8423" y2="276.4912"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61" x2="61" y1="276.4912" y2="609.9272"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="490" x2="490" y1="86.0986" y2="235.8423"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="490" x2="490" y1="235.8423" y2="276.4912"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="490" x2="490" y1="276.4912" y2="609.9272"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="23" y="83.3608">Provisioner</text><ellipse cx="61.5" cy="13" fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M61.5,21 L61.5,48 M48.5,29 L74.5,29 M61.5,48 L48.5,63 M61.5,48 L74.5,63 " fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="23" y="622.2881">Provisioner</text><ellipse cx="61.5" cy="635.0259" fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M61.5,643.0259 L61.5,670.0259 M48.5,651.0259 L74.5,651.0259 M61.5,670.0259 L48.5,685.0259 M61.5,670.0259 L74.5,685.0259 " fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="450" y="51"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="457" y="71.3608">Light Bulb</text><rect fill="#FEFECE" filter="url(#f1jjvid3ojj5fo)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="450" y="608.9272"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="457" y="629.2881">Light Bulb</text><rect fill="none" height="231.29" style="stroke: #000000; stroke-width: 2.0;" width="528" x="13" y="103.0986"/><polygon fill="#EEEEEE" points="13,103.0986,137,103.0986,137,109.0986,127,119.0986,13,119.0986,13,103.0986" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="28" y="116.5051">Provisioning</text><polygon fill="#A80036" points="72.5,136.0474,62.5,140.0474,72.5,144.0474,68.5,140.0474" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="489.5" y1="140.0474" y2="140.0474"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="394" x="78.5" y="136.4539">Unprovisioned beacon: [UUID, OOB information, (optional) URI hash]</text><polygon fill="#A80036" points="478.5,164.9961,488.5,168.9961,478.5,172.9961,482.5,168.9961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="168.9961" y2="168.9961"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="68.5" y="165.4026">Provisioning invite</text><polygon fill="#A80036" points="72.5,193.9448,62.5,197.9448,72.5,201.9448,68.5,197.9448" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="489.5" y1="197.9448" y2="197.9448"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="282" x="78.5" y="194.3513">Capabilities: [Num. elements, OOB methods, ...]</text><polygon fill="#A80036" points="478.5,222.8936,488.5,226.8936,478.5,230.8936,482.5,226.8936" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="226.8936" y2="226.8936"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="68.5" y="223.3">Start: OOB Method</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="195.5" y="260.3401">Key exchange and authentication</text><polygon fill="#A80036" points="478.5,292.4912,488.5,296.4912,478.5,300.4912,482.5,296.4912" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="296.4912" y2="296.4912"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="68.5" y="292.8977">Provisioning data: [Network key, device key, root element address, ...]</text><polygon fill="#A80036" points="72.5,321.4399,62.5,325.4399,72.5,329.4399,68.5,325.4399" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="489.5" y1="325.4399" y2="325.4399"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="78.5" y="321.8464">Provisioning complete</text><polygon fill="#FBFB77" filter="url(#f1jjvid3ojj5fo)" points="24,346.3887,24,370.3887,527,370.3887,527,356.3887,517,346.3887,24,346.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="517" x2="517" y1="346.3887" y2="356.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="527" x2="517" y1="356.3887" y2="356.3887"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="411" x="63.5" y="363.7952">The configuration server is always the first model of the root element (0)</text><rect fill="none" height="205.5898" style="stroke: #000000; stroke-width: 2.0;" width="528" x="13" y="387.3374"/><polygon fill="#EEEEEE" points="13,387.3374,132,387.3374,132,393.3374,122,403.3374,13,403.3374,13,387.3374" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="28" y="400.7439">Configuring</text><polygon fill="#A80036" points="478.5,420.2861,488.5,424.2861,478.5,428.2861,482.5,424.2861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="424.2861" y2="424.2861"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="68.5" y="420.6926">Get composition data</text><polygon fill="#A80036" points="72.5,449.2349,62.5,453.2349,72.5,457.2349,68.5,453.2349" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="489.5" y1="453.2349" y2="453.2349"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="331" x="78.5" y="449.6414">Composition data: [Configuration server, OnOff Server, ...]</text><polygon fill="#A80036" points="478.5,478.1836,488.5,482.1836,478.5,486.1836,482.5,482.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="482.1836" y2="482.1836"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="68.5" y="478.5901">Add application key "0"</text><polygon fill="#A80036" points="478.5,507.1323,488.5,511.1323,478.5,515.1323,482.5,511.1323" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="511.1323" y2="511.1323"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="68.5" y="507.5388">Bind application key "0" to OnOff Server</text><polygon fill="#A80036" points="478.5,551.0811,488.5,555.0811,478.5,559.0811,482.5,555.0811" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="555.0811" y2="555.0811"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="68.5" y="536.4875">Set publication state:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="68.5" y="551.4363">[publish application key, publish address, ttl, ...]</text><polygon fill="#A80036" points="478.5,579.9785,488.5,583.9785,478.5,587.9785,482.5,583.9785" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="61.5" x2="484.5" y1="583.9785" y2="583.9785"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="68.5" y="580.385">Add subscription: Light Group</text><!--
@startuml
skinparam defaultFontName Arial
actor Provisioner as p
participant "Light Bulb" as lb

group Provisioning
p <- lb : Unprovisioned beacon: [UUID, OOB information, (optional) URI hash]
p -> lb : Provisioning invite
p <- lb : Capabilities: [Num. elements, OOB methods, ...]
p -> lb : Start: OOB Method
... Key exchange and authentication ...
p -> lb : Provisioning data: [Network key, device key, root element address, ...]
p <- lb : Provisioning complete
end
note over p,lb: The configuration server is always the first model of the root element (0)
group Configuring
p -> lb : Get composition data
lb -> p : Composition data: [Configuration server, OnOff Server, ...]

p -> lb : Add application key "0"
p -> lb : Bind application key "0" to OnOff Server
p -> lb : Set publication state: \n[publish application key, publish address, ttl, ...]
p -> lb : Add subscription: Light Group
end
@enduml

PlantUML version 1.2017.16(Sun Sep 03 12:53:37 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_144-b01
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>